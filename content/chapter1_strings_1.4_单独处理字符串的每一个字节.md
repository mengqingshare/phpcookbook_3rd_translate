## CHAPTER 1 Strings 第一章：字符串 

### 1.4 单独处理字符串的每一个字节

#### 问题

你想把一个字符串当中的每一个字节单独拿出来做一些处理。

#### 解决方案

用 `for` 对字符串进行循环处理，每次处理一个字节。

【例1-16】

	$string = "This weekend, I'm going shopping for a pet chicken.";
	$vowels = 0;
	for ($i = 0, $j = strlen($string); $i < $j; $i++) {
		if (strstr('aeiouAEIOU',$string[$i])) {
			$vowels++;
		}
	}

这个例子计算出了一个字符串中有多少个 `元音字母`

#### 讨论

单独处理字符串的每一个字节，这是一个计算 **Look and Say 序列**的好方法。【例1-17】展示了怎么写一个 Look and Say 序列。

【例1-17】

	function lookandsay($s) {
		// 初始化字符串
		$r = '';
		// $m 是我们正在数的字符，初始位置是字符串的第一个字节
		$m = $s[0];
		// $n 是我们看到的 $m ，第一个是 1
		$n = 1;
		for ($i = 1, $j = strlen($s); $i < $j; $i++) {
			// 如果看到的和上一个相同，就加1
			if ($s[$i] == $m) {
				$n++;
			} else {
				// 如果不是就把数目和看到的字符加到返回的字符串后面
				$r .= $n.$m;
				// 将当前字符重置为我们看到的字节
				$m = $s[$i];
				// 计数重新为 1
				$n = 1;
			}
		}
		//返回字符串
		return $r.$n.$m;
	}

	for ($i = 0, $s = 1; $i < 10; $i++) {
		$s = lookandsay($s);
		print "$s\n";
	}

【例1-17】输出

	1
	11
	21
	1211
	111221
	312211
	13112221
	1113213211
	31131211131221
	13211311123113112211


上面的这个序列就被称为 **Look and Say 序列** ，因为每次你看到一个数字并且读出来的时候，你会发现下面的那个数字就包含了你 **读** 的那些数字。（例如，你看到第一个数字 1 的时候，你会说 `1 个 1`，而第二个数字就是 `1 (个) 1`，现在你看到了 2 个 1，你就会说 `2（个）1`，然后下面一个数字就是 `2 (个) 1`，你现在看到了 1 个 2，1个 1，你就会说 `1 (个) 2， 1 (个) 1`,继续的话，你会说 `1 (个) 1,1 （个）2,2 (个) 1`,然后就一直这么玩下去了 ^_^ ）【我想说这个序列好神奇啊啊啊~】

#### 请参阅

有关 `for` 的[使用手册](http://php.net/manual/zh/control-structures.for.php)

想了解更多关于 Look and Say 序列的，可以看[这里](https://en.wikipedia.org/wiki/Look-and-say_sequence)


----------


[【返回目录】](/README.md)